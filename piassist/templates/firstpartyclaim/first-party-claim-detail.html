{% extends "base.html" %}
{% block content %}
<div class="container">
    <!-- FORM BODY STARTS HERE 
    <form method="POST" action="{{ first_party_claim.auto_insurance_id }}"> -->
    <form method="POST" action="{{ url_for('firstpartyclaim.details',casefile_id=casefile_id, tenant_name=tenant_name , auto_insurance_id=auto_insurance_id) }}"
        <div id="first_party_claim_form">
            <div class="box">
                <h1 class="title">1st Party Claim Details</h1>
                <h2 class="subtitle"> {{ first_party_claim.auto_insurance.name }}</h2>
                <!-- AUTO INSURANCE COMPANY POLICY NUMBER -->
                <div class="field is-horizontal">
                    <div class="field-body">
                        <div class="field">
                            <label class="label">Policy Number</label>
                            <div class="control">
                                <input class="input" type="text" value="{{ first_party_claim.policy_number }}" name="policy_number">
                            </div>
                        </div>
                    </div>
                </div>
                <!-- CLAIM STARTED AND DATE STARTED -->
                <div class="field is-horizontal">
                    <div class="field-body">
                        <div class="field">
                            <label class="label">Has a claim been started?</label>
                            <div class="select">
                                <select name="is_started">
                                    <option>{{ first_party_claim.is_started }}</option>
                                    <option>True</option>
                                    <option>False</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- CLAIM NUMBER AND CLIENT STATEMENT -->
                <div class="field is-horizontal">
                    <div class="field-body">
                        <div class="field">
                            <label class="label">Claim Number</label>
                            <div class="control">
                                <input class="input" type="text" value="{{ first_party_claim.claim_number }}" name="claim_number">
                            </div>
                        </div>
                        <div class="field">
                            <label class="label">Has our client given a statement about this claim?</label>
                            <div class="control">
                                <div class="select">
                                    <select name="is_statement">
                                        <option>{{ first_party_claim.is_statement }}</option>
                                        <option>True</option>
                                        <option>False</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                 <!-- MEDPAY -->
                 <div class="field is-horizontal">
                    <div class="field-body">
                        <div class="field">
                            <label class="label">Does the policy have MedPay?</label>
                            <div class="control">
                                <div class="select">
                                    <select name="has_medpay">
                                        <option>{{ first_party_claim.has_medpay }}</option>
                                        <option>True</option>
                                        <option>False</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="field">
                            <label class="label">How much MedPay?</label>
                            <div class="control">
                                <input class="input" type="text" value="{{ first_party_claim.medpay_amount }}" name="medpay_amount">
                            </div>
                        </div>
                    </div>
                </div>
                <!-- UM -->
                <div class="field is-horizontal">
                    <div class="field-body">
                        <div class="field">
                            <label class="label">Does the policy have UM?</label>
                            <div class="control">
                                <div class="select">
                                    <select name="has_um_coverage">
                                        <option>{{ first_party_claim.has_um_coverage }}</option>
                                        <option>True</option>
                                        <option>False</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="field">
                            <label class="label">How much UM?</label>
                            <div class="control">
                                <input class="input" type="text" value="{{ first_party_claim.um_amount }}" name="um_amount">
                            </div>
                        </div>
                    </div>
                </div>
                <!-- ADJUSTER INFORMATION -->
                <div class="field">
                    <label class="label">Auto Adjuster</label>
                    <div class="select">
                        <select name="auto_adjuster_id">
                            <option value="{{ first_party_claim.auto_adjuster_id }}">{{ first_party_claim.auto_adjuster.full_name }}</option>
                            {% for auto_adjuster in auto_adjusters %}<option value="{{ auto_adjuster.id }}">{{ auto_adjuster.full_name }}</option>{% endfor %}
                        </select>
                    </div>
                </div>
                <div class="field is-horizontal">
                    <div class="field-body">
                        <div class="field">
                            <label class="label">Adjuster Phone</label>
                            <div class="content">
                                <p>{{ first_party_claim.auto_adjuster.phone }}</p>
                            </div>
                        </div>
                        <div class="field">
                            <label class="label">Adjuster Fax</label>
                            <div class="content">
                                <p>{{ first_party_claim.auto_adjuster.fax }}</p>
                            </div>
                        </div>
                        <div class="field">
                            <label class="label">Adjuster Email</label>
                            <div class="content">
                                <p>{{ first_party_claim.auto_adjuster.email }}</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="field is-horizontal">
                    <div class="field-body">
                        <div class="field">
                            <label class="label">Adjuster Address</label>
                            <div class="content">
                                <p>{{ first_party_claim.auto_adjuster.street_address }}</p>
                            </div>
                        </div>
                        <div class="field">
                            <label class="label">Adjuster City</label>
                            <div class="content">
                                <p>{{ first_party_claim.auto_adjuster.city }}</p>
                            </div>
                        </div>
                        <div class="field">
                            <label class="label">Adjuster State</label>
                            <div class="content">
                                <p>{{ first_party_claim.auto_adjuster.state }}</p>
                            </div>
                        </div>
                        <div class="field">
                            <label class="label">Adjuster Zip</label>
                            <div class="content">
                                <p>{{ first_party_claim.auto_adjuster.zip_code }}</p>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- LOR AND LOA -->
                <div class="field is-horizontal">
                    <div class="field-body">
                        <div class="field">
                            <label class="label">Has LOR been sent?</label>
                            <div class="select">
                                <select name="is_lor_sent">
                                    <option>{{ first_party_claim.is_lor_sent }}</option>
                                    <option>True</option>
                                    <option>False</option>
                                </select>
                            </div>
                        </div>
                        <div class="field">
                            <label class="label">Date of Last Request</label>
                            <div class="control">
                                <input class="input" type="date" value="{{ first_party_claim.last_request_date}}" name="last_request_date">
                            </div>
                        </div>
                        <div class="field">
                            <label class="label">Has LOA been received?</label>
                            <div class="select">
                                <select name="is_loa_received">
                                    <option>{{ first_party_claim.is_loa_received }}</option>
                                    <option>True</option>
                                    <option>False</option>
                                </select>
                            </div>
                        </div>
                        <div class="field">
                            <label class="label">Have we received dec sheets?</label>
                            <div class="select">
                                <select name="is_dec_sheets_received">
                                    <option>{{ first_party_claim.is_dec_sheets_received }}</option>
                                    <option>True</option>
                                    <option>False</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- NOTES-->
                <div class="field">
                    <label class="label">Claim Notes</label>
                    <textarea class="textarea" name="notes">{{ first_party_claim.notes }}</textarea>
                </div>
                <!-- BUTTON -->
                <div class="buttons is-right">
                    <button class="button is-large">Update</button>
                </div>
            </form>
            <div class="buttons">
              <!--  <a class="button is-large is-info" href="/generate-adhoc-medpay-demand/casefile/{{ first_party_claim.casefile_id }}/autoinsurance/{{first_party_claim.auto_insurance_id }}">Generate MP Demand</a>-->
              <a class="button is-large is-info" href="{{ url_for('drive_integration.generate_adhoc_medpay_demand',tenant_name=tenant_name,auto_insurance_id=auto_insurance_id,casefile_id=casefile_id)}}">Generate MP Demands</a>
              <a class="button is-large is-info" href="{{ url_for('drive_integration.generate_adhoc_um_demand',tenant_name=tenant_name,auto_insurance_id=auto_insurance_id,casefile_id=casefile_id)}}">Generate UM Demands</a>                
            </div>
            <div class="buttons is-left">
               <!-- <a class="button is-large is-danger" href="/delete/casefile/{{ first_party_claim.casefile_id }}/firstpartyclaim/{{ first_party_claim.auto_insurance_id }}">Delete</a>-->
                <a class="button is-large is-danger" href="{{ url_for('casefile.delete',tenant_name=tenant_name,auto_insurance_id=auto_insurance_id,casefile_id=casefile_id)}}">Delete</a>
            </div>
            </div>
        </div>
    <!-- FORM BODY ENDS HERE -->
</div>
{% endblock %}
